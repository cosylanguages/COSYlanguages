<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>COSYlanguages</title>
  <link rel="stylesheet" href="styles.css">
  
</head>
<body>

  <h1>COSYlanguages</h1>

  <div id="selectors-container">
    <div class="selector-group" id="language-day-selectors">
      <label for="language-select">Choose language:</label>
      <select id="language-select">
        <option value="">--Select Language--</option>
        <option value="COSYenglish" data-bg="COSYenglish">COSYenglish</option>
        <option value="COSYfrançais" data-bg="COSYfrançais">COSYfrançais</option>
        <option value="COSYitaliano" data-bg="COSYitaliano">COSYitaliano</option>
        <option value="COSYespañol" data-bg="COSYespañol">COSYespañol</option>
        <option value="COSYportuguês" data-bg="COSYportuguês">COSYportuguês</option>
        <option value="COSYdeutsch" data-bg="COSYdeutsch">COSYdeutsch</option>
        <option value="ΚΟΖΥελληνικά" data-bg="ΚΟΖΥελληνικά">ΚΟΖΥελληνικά</option>
        <option value="ТАКОЙрусский" data-bg="ТАКОЙрусский">ТАКОЙрусский</option>
        <option value="ԾՈՍՅհայկական" data-bg="ԾՈՍՅհայկական">ԾՈՍՅհայկական</option>
      </select>

      <label for="day-select" id="day-label">Choose day:</label>
      <select id="day-select">
        <option value="">--Select Day--</option>
        <option value="1">Day 1</option>
        <option value="2">Day 2</option>
        <option value="3">Day 3</option>
        <option value="4">Day 4</option>
        <option value="5">Day 5</option>
        <option value="6">Day 6</option>
        <option value="7">Day 7</option>
      </select>
    </div>

    <div class="selector-group" id="day-range-practice-selectors">
      <label for="day-from-select">Day from:</label>
      <select id="day-from-select" style="width: 80px;">
        <option value="">From</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
      </select>

      <label for="day-to-select">Day to:</label>
      <select id="day-to-select" style="width: 80px;">
        <option value="">To</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
      </select>

      <label for="practice-type-select">Type of practice:</label>
      <select id="practice-type-select" style="min-width: 160px;">
        <option value="">--Select Practice--</option>
        <option value="random_word">Random Word</option>
        <option value="random_image">Random Image</option>
        <option value="random_grammar">Random Grammar</option>
        <option value="random_speaking">Random Speaking</option>
      </select>
    </div>

    <button id="show-button">Show</button>
  </div>

  <div id="result-container"></div>

  
   <script src="data/vocabData.js"></script>
   <script src="data/questionTranslations.js"></script>
   <script src="data/grammarOptionsText.js"></script>
<script>
   
    
    const grammarData = {
      COSYenglish: {    
        2: [
          "I",
          "You",
          "He",
          "She",
          "It",
          "am",
          "are",
          "is"
        ],
        3: {
          to_have: [
            "I",
            "You",
            "He",
            "She",
            "It",
            "have",
            "has"
          ],
          possessives: [
            "Possessives (examples): my mother, your sister, his son, her husband."
          ]
        }
      },
      COSYfrançais: {
        1: [
          "Eau",
          "Vin",
          "Carte",
          "Bière",
          "Jus",
          "Caffé",
          "Thé"
            ],
        2: [
          "Je",
          "Tu",
          "Il",
          "Elle",
          "Ce",
          "suis",
          "es",
          "est"
        ],
        3: {
          to_have: [
            "J'",
            "Tu",
            "Il",
            "Elle",
            "Ce",
            "ai",
            "as",
            "a"
          ],
          possessives: [
            "Possessifs (exemples) : ma mère, ta sœur, son fils, son mari."
          ]
        }
      },
      COSYitaliano: {
        2: [
         "Io",
          "Tu",
          "Lui",
          "Lei",
          "sono",
          "sei",
          "è"
        ],
        3: {
          to_have: [
            "Io",
            "Tu",
            "Lui",
            "Lei",
            "ho",
            "hai",
            "ha"
          ],
          possessives: [
            "Possessivi (esempi): mia madre, tua sorella, suo figlio, suo marito."
          ]
        }
      },
      COSYespañol: {
        2: [
          "Yo",
          "Tú",
          "Él",
          "Ella",
          "Es",
          "soy",
          "eres",
          "es"
        ],
        3: {
          to_have: [
            "Yo",
            "Tú",
            "Él",
            "Ella",
            "tengo",
            "tienes",
            "tiene"
          ],
          possessives: [
            "Posesivos (ejemplos): mi madre, tu hermana, su hijo, su marido."
          ]
        }
      },
      COSYportuguês: {
        2: [
          "Eu",
          "Tu",
          "Ele",
          "Ela",
          "sou",
          "és",
          "é"
        ],
        3: {
          to_have: [
            "Eu",
            "Tu",
            "Ele",
            "Ela",
            "tenho",
            "tens",
            "tem"
          ],
          possessives: [
            "Possessivos (exemplos): minha mãe, tua irmã, seu filho, seu marido."
          ]
        }
      },
      COSYdeutsch: {
        2: [
          "Ich",
          "Du",
          "Er",
          "Sie",
          "Es",
          "bin",
          "bist",
          "ist"
        ],
        3: {
          to_have: [
            "Ich",
            "Du",
            "Er",
            "Sie",
            "Es",
            "habe",
            "hast",
            "hat"
          ],
          possessives: [
            "Possessivartikel (Beispiele): meine Mutter, deine Schwester, sein Sohn, ihr Mann."
          ]
        }
      },
      ΚΟΖΥελληνικά: {
        2: [
         "Εγώ",
          "Εσύ",
          "Αυτός",
          "Αυτή",
          "Αυτό",
          "είμαι",
          "είσαι",
          "είναι"
        ],
        3: {
          to_have: [
            "Εγώ",
            "Εσύ",
            "Αυτός",
            "Αυτή",
            "Αυτό",
            "έχω",
            "έχεις",
            "έχει"
          ],
          possessives: [
            "Κτητικές αντωνυμίες (παραδείγματα): η μητέρα μου, η αδερφή σου, ο γιος του, ο σύζυγός της."
          ]
        }
      },
      ТАКОЙрусский: {
        2: [
          "Я",
          "Ты",
          "Он",
          "Она",
          "Оно",
          "есть",
          "есть",
          "есть"
        ],
        3: {
          to_have: [
            "У меня",
            "У тебя",
            "У него",
            "У неё",
            "есть",
            "есть",
            "есть"
          ],
          possessives: [
            "Притяжательные прилагательные (примеры): моя мать, твоя сестра, его сын, её муж."
          ]
        }
      },
       ԾՈՍՅհայկական: {
        2: [
          "Ես",
          "Դու",
          "Նա",
          "Նա",
          "Այն",
          "եմ",
          "ես",
          "է"
        ],
        3: {
          to_have: [
            "Ես",
            "Դու",
            "Նա",
            "Նա",
            "ունեմ",
            "ունես",
            "ունի"
          ],
          possessives: [
            "Ստացական ածականներ (օրինակներ). իմ մայրը, քո քույրը, նրա որդին, նրա ամուսինը:"
          ]
        }
      }
    };

    const speakingData = {
      COSYenglish: {
        1: [ 
          "Coffee or tea? Cash or card?"
        ],
        2: [
          "Who are you? (name, man or woman, student or teacher?)",
          "Name 3 popular people (name, man or woman?)",
          "Name 3 people (name, man or woman?)"
        ],
        3: [
          "Your family",
          "Your friend and his/her family",
          "Drinks you have and drinks you don't have",
          "Drinks your friend has and drinks he/she doesn't have"
      ],
        4: [
          "Your phone number",
          "Your friend and his/her family",
          "Drinks you have and drinks you don't have",
          "Drinks your friend has and drinks he/she doesn't have"
      ]
      },
      COSYfrançais: {
        1: [ 
          "Café ou thé? Espèces ou carte?"
        ],
        2: [
          "Qui es-tu? (le nom, homme ou femme, étudiant.e ou professeur?)",
          "Nommez 3 personnes populaires (le nom, homme ou femme?)",
          "Nommez 3 personnes (le nom, homme ou femme?)"
        ],
        3: [
          "Ma famille, mon ami et sa famille, les boissons que tu prends."
        ]
      },
      COSYitaliano: {
        1: [ 
          "Caffè o tè? Contanti o carta?"
        ],
        2: [
          "Chi sei? (il nome, uomo o donna, studente.ssa o professore.ssa?)",
          "Nome 3 persone popolari (il nome, uomo o donna?)",
          "Nome 3 persone (il nome, uomo o donna?)"
        ],
        3: [
          "La mia famiglia, il mio amico e la sua famiglia, le bevande che prendi."
        ]
      },
      COSYespañol: {
        1: [ 
          "¿Café o té? ¿Efectivo o tarjeta?"
        ],
        2: [
          "¿Quién eres? (nombre, hombre o mujer, estudiante o profesor?)",
          "Nombra 3 personas populares (nombre, hombre o mujer?)",
          "Nombra 3 personas (nombre, hombre o mujer?)"
        ],
        3: [
          "Tu familia, tu amigo/a y su familia, las bebidas que tomas."
        ]
      },
      COSYportuguês: {
        1: [ 
          "Café ou chá? Dinheiro ou cartão?"
        ],
        2: [
          "Quem és tu? (nome, homem ou mulher, estudante ou professor?)",
          "Nomeia 3 pessoas populares (nome, homem ou mulher?)",
          "Nomeia 3 pessoas (nome, homem ou mulher?)"
        ],
        3: [
          "A tua família, o teu amigo/a e a sua família, as bebidas que tomas."
        ]
      },
      COSYdeutsch: {
        1: [ 
          "Kaffee oder Tee? Bargeld oder Karte?"
        ],
        2: [
          "Wer bist du? (Name, Mann oder Frau, Student oder Lehrer?)",
          "Nenne 3 bekannte Personen (Name, Mann oder Frau?)",
          "Nenne 3 Personen (Name, Mann oder Frau?)"
        ],
        3: [
          "Deine Familie, dein Freund/deine Freundin und seine/ihre Familie, die Getränke, die du trinkst."
        ]
      },
      ΚΟΖΥελληνικά: {
        1: [
          "Καφέ ή τσάι; Μετρητά ή κάρτα;",
        ],
        2: [
          "Ποιος είσαι; (το όνομα, άντρας ή γυναίκα, μαθητής.ρια ή δάσκαλος.α;)",
          "Ονομάστε 3 δημοφιλή άτομα (το όνομα, άντρας ή γυναίκα;)",
          "Ονομάστε 3 άτομα (το όνομα, άντρας ή γυναίκα;)"
        ],
        3: [
          "Η οικογένειά μου, ο φίλος μου και η οικογένειά του/της, τα ποτά που πίνεις."
        ]
      },
      ТАКОЙрусский: {
        1: [
          "Кофе или чай? Наличные или карта?"
        ],
        2: [
          "Кто ты? (имя, мужчина или женщина, студент или учитель?)",
          "Назови 3 известных человека (имя, мужчина или женщина?)",
          "Назови 3 человека (имя, мужчина или женщина?)"
        ],
        3: [
          "Твоя семья, твой друг/подруга и его/её семья, напитки, которые ты пьёшь."
        ]
      },
       ԾՈՍՅհայկական: {
        1: [
          "Սուրճ թէ թէյ? Կանխիկ թէ քարտ?"
        ],
        2: [
          "Ո՞վ ես դու: (անուն, տղամարդ կամ կին, ուսանող կամ ուսուցիչ?)",
          "Անվանեք 3 հայտնի մարդկանց (անուն, տղամարդ կամ կին?)",
          "Անվանեք 3 մարդկանց (անուն, տղամարդ կամ կին?)"
        ],
        3: [
          "Քո ընտանիքը, քո ընկերը/ընկերուհին և նրա ընտանիքը, խմիչքները, որոնք դուք խմում եք:"
        ]
      }
    };

    // 1. UNIFIED IMAGE DATA - same images for all languages
    const imageData = {
      allLanguages: {
        1: [
          { src: "https://knowt-user-attachments.s3.amazonaws.com/d1b268c8-b4a8-448f-b332-5f8b25d5e673.jpg", alt: "Hello", 
            translations: {
              COSYenglish: "Hello",
              COSYfrançais: "Bonjour",
              COSYitaliano: "Buongiorno",
              COSYespañol: "Hola",
              COSYportuguês: "Olá",
              COSYdeutsch: "Hallo",
              ΚΟΖΥελληνικά: "Γεια σου",
              ТАКОЙрусский: "Привет",
              ԾՈՍՅհայկական: "Բարև"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/65d8a23f-f954-438a-b24a-7fb488fc3826.jpg", alt: "Goodbye",
            translations: {
              COSYenglish: "Goodbye",
              COSYfrançais: "Au revoir",
              COSYitaliano: "Arrivederci",
              COSYespañol: "Adiós",
              COSYportuguês: "Adeus",
              COSYdeutsch: "Auf Wiedersehen",
              ΚΟΖΥελληνικά: "Αντίο",
              ТАКОЙрусский: "До свидания",
              ԾՈՍՅհայկական: "Ցտեսություն"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/90fa8c25-9aba-424e-a7fd-adcfdd22cccd.jpg", alt: "Yes",
            translations: {
              COSYenglish: "Yes",
              COSYfrançais: "Oui",
              COSYitaliano: "Sì",
              COSYespañol: "Sí",
              COSYportuguês: "Sim",
              COSYdeutsch: "Ja",
              ΚΟΖΥελληνικά: "Ναι",
              ТАКОЙрусский: "Да",
              ԾՈՍՅհայկական: "Այո"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/490e0478-36f3-4f3f-90e0-f1ac3a63be42.jpg", alt: "No",
            translations: {
              COSYenglish: "No",
              COSYfrançais: "Non",
              COSYitaliano: "No",
              COSYespañol: "No",
              COSYportuguês: "Não",
              COSYdeutsch: "Nein",
              ΚΟΖΥελληνικά: "Όχι",
              ТАКОЙрусский: "Нет",
              ԾՈՍՅհայկական: "Ոչ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/382b39c4-db7d-4fe0-a5d1-fc560bfabfd4.jpg", alt: "Thank you",
            translations: {
              COSYenglish: "Thank you",
              COSYfrançais: "Merci",
              COSYitaliano: "Grazie",
              COSYespañol: "Gracias",
              COSYportuguês: "Obrigado",
              COSYdeutsch: "Danke",
              ΚΟΖΥελληνικά: "Ευχαριστώ",
              ТАКОЙрусский: "Спасибо",
              ԾՈՍՅհայկական: "Շնորհակալություն"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/3cde6331-ebd8-443d-876b-c7100f7cfc9d.jpg", alt: "You're welcome",
            translations: {
              COSYenglish: "You're welcome",
              COSYfrançais: "De rien",
              COSYitaliano: "Prego",
              COSYespañol: "De nada",
              COSYportuguês: "De nada",
              COSYdeutsch: "Bitte",
              ΚΟΖΥελληνικά: "Παρακαλώ",
              ТАКОЙрусский: "Пожалуйста",
              ԾՈՍՅհայկական: "Խնդրեմ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/a7c44794-c2d9-4a27-93c4-42827de4025e.jpg", alt: "Alright",
            translations: {
              COSYenglish: "Alright",
              COSYfrançais: "D'accord",
              COSYitaliano: "Bene",
              COSYespañol: "De acuerdo",
              COSYportuguês: "Tudo bem",
              COSYdeutsch: "In Ordnung",
              ΚΟΖΥελληνικά: "Εντάξει",
              ТАКОЙрусский: "Хорошо",
              ԾՈՍՅհայկական: "Լավ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/ddc67279-12a7-497d-a260-0b6f0c24fc87.jpg", alt: "Sorry",
            translations: {
              COSYenglish: "Sorry",
              COSYfrançais: "Désolé.e",
              COSYitaliano: "Scusi.a",
              COSYespañol: "Lo siento",
              COSYportuguês: "Desculpe",
              COSYdeutsch: "Entschuldigung",
              ΚΟΖΥελληνικά: "Συγνώμη",
              ТАКОЙрусский: "Извините",
              ԾՈՍՅհայկական: "Ներողություն"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/3451f95e-17be-4cb7-a595-8228443a8bd1.jpg", alt: "Water",
            translations: {
              COSYenglish: "Water",
              COSYfrançais: "L'eau",
              COSYitaliano: "L'acqua",
              COSYespañol: "Agua",
              COSYportuguês: "Água",
              COSYdeutsch: "Wasser",
              ΚΟΖΥελληνικά: "το νερό",
              ТАКОЙрусский: "Вода",
              ԾՈՍՅհայկական: "Ջուր"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/9e4a4ad3-1dbb-40f7-bb45-d167b39e4a74.jpg", alt: "Juice",
            translations: {
              COSYenglish: "Juice",
              COSYfrançais: "Le jus",
              COSYitaliano: "Il succo",
              COSYespañol: "Jugo",
              COSYportuguês: "Suco",
              COSYdeutsch: "Saft",
              ΚΟΖΥελληνικά: "ο χυμός",
              ТАКОЙрусский: "Сок",
              ԾՈՍՅհայկական: "Հյութ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/3bc85631-fdfe-4541-a663-d1f1cbbe386a.jpg", alt: "Beer",
            translations: {
              COSYenglish: "Beer",
              COSYfrançais: "La bière",
              COSYitaliano: "La birra",
              COSYespañol: "Cerveza",
              COSYportuguês: "Cerveja",
              COSYdeutsch: "Bier",
              ΚΟΖΥελληνικά: "η μπύρα",
              ТАКОЙрусский: "Пиво",
              ԾՈՍՅհայկական: "Գարեջուր"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/45878c62-cc5f-47fe-ae32-59847af15bda.jpg", alt: "Wine",
            translations: {
              COSYenglish: "Wine",
              COSYfrançais: "Le vin",
              COSYitaliano: "Il vino",
              COSYespañol: "Vino",
              COSYportuguês: "Vinho",
              COSYdeutsch: "Wein",
              ΚΟΖΥελληνικά: "το κρασί",
              ТАКОЙрусский: "Вино",
              ԾՈՍՅհայկական: "Գինի"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/830e8e98-43e7-4dc8-9d87-4c3fef5e2890.jpg", alt: "Coffee",
            translations: {
              COSYenglish: "Coffee",
              COSYfrançais: "Le café",
              COSYitaliano: "Il caffè",
              COSYespañol: "Café",
              COSYportuguês: "Café",
              COSYdeutsch: "Kaffee",
              ΚΟΖΥελληνικά: "ο καφές",
              ТАКОЙрусский: "Кофе",
              ԾՈՍՅհայկական: "Սուրճ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/6a4e0b1d-f9ee-4a2b-a2f9-9dabef5ff864.jpg", alt: "Tea",
            translations: {
              COSYenglish: "Tea",
              COSYfrançais: "Le thé",
              COSYitaliano: "Il tè",
              COSYespañol: "Té",
              COSYportuguês: "Chá",
              COSYdeutsch: "Tee",
              ΚΟΖΥελληνικά: "το τσάι",
              ТАКОЙрусский: "Чай",
              ԾՈՍՅհայկական: "Թեյ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/64259323-b73a-4c2b-80ab-4c5271331bf0.jpg", alt: "Card",
            translations: {
              COSYenglish: "Card",
              COSYfrançais: "La carte",
              COSYitaliano: "La carta",
              COSYespañol: "Tarjeta",
              COSYportuguês: "Cartão",
              COSYdeutsch: "Karte",
              ΚΟΖΥελληνικά: "η κάρτα",
              ТАКОЙрусский: "Карта",
              ԾՈՍՅհայկական: "Քարտ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/c1a57a8c-d319-458a-ab77-dcda4b675b37.jpg", alt: "Cash",
            translations: {
              COSYenglish: "Cash",
              COSYfrançais: "Les espèces",
              COSYitaliano: "I contanti",
              COSYespañol: "Efectivo",
              COSYportuguês: "Dinheiro",
              COSYdeutsch: "Bargeld",
              ΚΟΖΥελληνικά: "τα μετρητά",
              ТАКОЙрусский: "Наличные",
              ԾՈՍՅհայկական: "Կանխիկ"
            }
          },
        ],
        2: [
          { src: "https://knowt-user-attachments.s3.amazonaws.com/58492698-ae86-4d3a-8fc5-a22b55b2aa00.jpg", alt: "Person",
            translations: {
              COSYenglish: "Person",
              COSYfrançais: "La personne",
              COSYitaliano: "La persona",
              COSYespañol: "Persona",
              COSYportuguês: "Pessoa",
              COSYdeutsch: "Person",
              ΚΟΖΥελληνικά: "το άτομο",
              ТАКОЙрусский: "Человек",
              ԾՈՍՅհայկական: "Անձ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/dda78a79-0f1a-4aa2-a6a6-050f891fc3f9.jpg", alt: "Thing",
            translations: {
              COSYenglish: "Thing",
              COSYfrançais: "La chose",
              COSYitaliano: "La cosa",
              COSYespañol: "Cosa",
              COSYportuguês: "Coisa",
              COSYdeutsch: "Ding",
              ΚΟΖΥελληνικά: "το πράγμα",
              ТАКОЙрусский: "Вещь",
              ԾՈՍՅհայկական: "Բան"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/19c27994-8d24-4dd9-ae36-68fea5cda79b.jpg", alt: "Woman",
            translations: {
              COSYenglish: "Woman",
              COSYfrançais: "La femme",
              COSYitaliano: "La donna",
              COSYespañol: "Mujer",
              COSYportuguês: "Mulher",
              COSYdeutsch: "Frau",
              ΚΟΖΥελληνικά: "η γυναίκα",
              ТАКОЙрусский: "Женщина",
              ԾՈՍՅհայկական: "Կին"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/bbb56ff3-c6ec-438a-834b-aa120d862856.jpg", alt: "Man",
            translations: {
              COSYenglish: "Man",
              COSYfrançais: "L'homme",
              COSYitaliano: "L'uomo",
              COSYespañol: "Hombre",
              COSYportuguês: "Homem",
              COSYdeutsch: "Mann",
              ΚΟΖΥελληνικά: "ο άντρας",
              ТАКОЙрусский: "Мужчина",
              ԾՈՍՅհայկական: "Տղամարդ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/1635fa13-3874-4310-b895-1a4c905e2f91.jpg", alt: "Girl",
            translations: {
              COSYenglish: "Girl",
              COSYfrançais: "La fille",
              COSYitaliano: "La ragazza",
              COSYespañol: "Chica",
              COSYportuguês: "Rapariga",
              COSYdeutsch: "Mädchen",
              ΚΟΖΥελληνικά: "το κορίτσι",
              ТАКОЙрусский: "Девочка",
              ԾՈՍՅհայկական: "Աղջիկ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/ba646c3b-dbd1-47a4-89ef-aaf0a4ae14b3.jpg", alt: "Boy",
            translations: {
              COSYenglish: "Boy",
              COSYfrançais: "Le garçon",
              COSYitaliano: "Il ragazzo",
              COSYespañol: "Chico",
              COSYportuguês: "Rapaz",
              COSYdeutsch: "Junge",
              ΚΟΖΥελληνικά: "το αγόρι",
              ТАКОЙрусский: "Мальчик",
              ԾՈՍՅհայկական: "Տղա"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/41280cd4-99a6-4217-930a-7084b28ce44f.jpg", alt: "Student",
            translations: {
              COSYenglish: "Student",
              COSYfrançais: "L'étudiante",
              COSYitaliano: "La studentessa",
              COSYespañol: "Estudiante",
              COSYportuguês: "Estudante",
              COSYdeutsch: "Studentin",
              ΚΟΖΥελληνικά: "η μαθήτρια",
              ТАКОЙрусский: "Студентка",
              ԾՈՍՅհայկական: "Ուսանողուհի"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/df25f307-75ec-4302-9cdf-3a2717142c46.jpg", alt: "Student",
            translations: {
              COSYenglish: "Student",
              COSYfrançais: "L'étudiant",
              COSYitaliano: "Lo studente",
              COSYespañol: "Estudiante",
              COSYportuguês: "Estudante",
              COSYdeutsch: "Student",
              ΚΟΖΥελληνικά: "ο μαθητής",
              ТАКОЙрусский: "Студент",
              ԾՈՍՅհայկական: "Ուսանող"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/685a6f52-53b1-4e8d-9f1b-2dfb606d737c.jpg", alt: "Teacher",
            translations: {
              COSYenglish: "Teacher",
              COSYfrançais: "La professeur",
              COSYitaliano: "La professoressa",
              COSYespañol: "Profesora",
              COSYportuguês: "Professora",
              COSYdeutsch: "Lehrerin",
              ΚΟΖΥελληνικά: "η δασκάλα",
              ТАКОЙрусский: "Учительница",
              ԾՈՍՅհայկական: "Ուսուցչուհի"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/b9578d45-6894-47be-b7f4-751763537360.jpg", alt: "Teacher",
            translations: {
              COSYenglish: "Teacher",
              COSYfrançais: "Le professeur",
              COSYitaliano: "Il professore",
              COSYespañol: "Profesor",
              COSYportuguês: "Professor",
              COSYdeutsch: "Lehrer",
              ΚΟΖΥελληνικά: "ο δάσκαλος",
              ТАКОЙрусский: "Учитель",
              ԾՈՍՅհայկական: "Ուսուցիչ"
            }
          },
          { src: "https://knowt-user-attachments.s3.amazonaws.com/69591591-9112-49ec-a554-f1d055855c5e.jpg", alt: "Nice to meet you",
            translations: {
              COSYenglish: "Nice to meet you",
              COSYfrançais: "Enchanté.e",
              COSYitaliano: "Piacere",
              COSYespañol: "Encantado/a",
              COSYportuguês: "Prazer",
              COSYdeutsch: "Freut mich",
              ΚΟΖΥελληνικά: "Χαίρω πολύ",
              ТАКОЙрусский: "Приятно познакомиться",
              ԾՈՍՅհայկական: "Ուրախ եմ ձեզ հետ ծանոթանալու համար"
            }
          },
        ],
        3: [
          { src: "https://i.imgur.com/m4wKJ8f.jpg", alt: "Mother and son",
            translations: {
              COSYenglish: "Mother and son",
              COSYfrançais: "Mère et fils",
              COSYitaliano: "Madre e figlio",
              COSYespañol: "Madre e hijo",
              COSYportuguês: "Mãe e filho",
              COSYdeutsch: "Mutter und Sohn",
              ΚΟΖΥελληνικά: "Μητέρα και γιος",
              ТАКОЙрусский: "Мать и сын",
              ԾՈՍՅհայկական: "Մայր և որդի"
            }
          },
          { src: "https://i.imgur.com/oV9fN3L.jpg", alt: "Family photo",
            translations: {
              COSYenglish: "Family photo",
              COSYfrançais: "Photo de famille",
              COSYitaliano: "Foto di famiglia",
              COSYespañol: "Foto familiar",
              COSYportuguês: "Foto de família",
              COSYdeutsch: "Familienfoto",
              ΚΟΖΥελληνικά: "Οικογενειακή φωτογραφία",
              ТАКОЙрусский: "Семейное фото",
              ԾՈՍՅհայկական: "Ընտանեկան լուսանկար"
            }
          }
        ]
      }
    };

    // 2. IMPROVED VOICE HANDLING
    const voiceLanguageMap = {
      COSYenglish: { lang: "en-US", voiceURI: "Google US English" },
      COSYfrançais: { lang: "fr-FR", voiceURI: "Google français" },
      COSYitaliano: { lang: "it-IT", voiceURI: "Google italiano" },
      COSYespañol: { lang: "es-ES", voiceURI: "Google español" },
      COSYportuguês: { lang: "pt-PT", voiceURI: "Google português" },
      COSYdeutsch: { lang: "de-DE", voiceURI: "Google Deutsch" },
      ΚΟΖΥελληνικά: { lang: "el-GR", voiceURI: "Google ελληνικά" },
      ТАКОЙрусский: { lang: "ru-RU", voiceURI: "Google русский" },
      ԾՈՍՅհայկական: { lang: "hy-AM", voiceURI: "" }
    };

    // Function to get the best available voice
    function getBestVoice(languageCode, voiceURI) {
      const voices = window.speechSynthesis.getVoices();
      
      // First try to find exact match by voiceURI
      if (voiceURI) {
        const exactVoice = voices.find(v => v.voiceURI === voiceURI);
        if (exactVoice) return exactVoice;
      }
      
      // Then try to find by language
      const langVoices = voices.filter(v => v.lang === languageCode);
      if (langVoices.length > 0) {
        // Prefer voices with localService (usually higher quality)
        const localServiceVoice = langVoices.find(v => v.localService);
        if (localServiceVoice) return localServiceVoice;
        
        // Return the first available voice for the language
        return langVoices[0];
      }
      
      // Fallback to any available voice
      return voices[0] || null;
    }

    // Function to speak text with selected voice and language
    function speakText(text, language) {
      if (!window.speechSynthesis) {
        console.warn("Speech synthesis not supported");
        return;
      }

      // Cancel any ongoing speech
      window.speechSynthesis.cancel();

      // Create a new utterance
      const utterance = new SpeechSynthesisUtterance(text);
      
      // Get voice settings for the language
      const voiceSettings = voiceLanguageMap[language] || voiceLanguageMap.COSYenglish;
      
      // Try to get the best voice available
      const voice = getBestVoice(voiceSettings.lang, voiceSettings.voiceURI);
      
      if (voice) {
        utterance.voice = voice;
        utterance.lang = voice.lang;
        
        // Adjust speech rate and pitch for more natural sound
        utterance.rate = 0.9; // Slightly slower than default
        utterance.pitch = 1.0; // Normal pitch
      }

      // Speak the text
      window.speechSynthesis.speak(utterance);
    }

    // Select DOM elements
    const languageSelect = document.getElementById("language-select");
    const daySelect = document.getElementById("day-select");
    const dayFromSelect = document.getElementById("day-from-select");
    const dayToSelect = document.getElementById("day-to-select");
    const practiceTypeSelect = document.getElementById("practice-type-select");
    const showButton = document.getElementById("show-button");
    const resultContainer = document.getElementById("result-container");

    // Validate range input: dayFrom <= dayTo
    function validDayRange(from, to) {
      if (!from || !to) return false;
      return Number(from) <= Number(to);
    }

    // Function to get random element from array
    function randomElement(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    // Main function to handle the "Show" button click
    showButton.addEventListener("click", () => {
      const language = languageSelect.value;
      const day = daySelect.value;
      const dayFrom = dayFromSelect.value;
      const dayTo = dayToSelect.value;
      const practiceType = practiceTypeSelect.value;

      // Clear previous result
      resultContainer.innerHTML = "";

      // Validation
      if (!language) {
        alert("Please select a language.");
        return;
      }
      if (!practiceType) {
        alert("Please select a type of practice.");
        return;
      }
      // Check that either day is selected OR a valid range is selected
      if (!day && !(dayFrom && dayTo && validDayRange(dayFrom, dayTo))) {
        alert("Please select either a day or a valid day range (from <= to).");
        return;
      }

      // Determine day(s) to select from
      let daysToUse = [];
      if (day) {
        daysToUse = [Number(day)];
      } else if (dayFrom && dayTo && validDayRange(dayFrom, dayTo)) {
        for (let d = Number(dayFrom); d <= Number(dayTo); d++) {
          daysToUse.push(d);
        }
      }

      // Depending on practiceType, get the random content
      switch (practiceType) {
        case "random_word":
          {
            // Random word from selected day(s)
            let combinedWords = [];
            for (const d of daysToUse) {
              if (vocabData[language][d]) combinedWords = combinedWords.concat(vocabData[language][d]);
            }
            if (combinedWords.length === 0) {
              resultContainer.textContent = "No words found for this selection.";
              break;
            }
            const word = randomElement(combinedWords);
            resultContainer.textContent = word;
            speakText(word, language);
          }
          break;

        case "random_grammar":
          {
            let combinedGrammar = [];
            for (const d of daysToUse) {
              if (grammarData[language][d]) {
                if (d === 3) {
                  // For day 3, show options to choose grammar type
                  const optionsDiv = document.createElement("div");
                  optionsDiv.className = "grammar-options";
                  
                  const questions = questionTranslations[language] || questionTranslations.COSYenglish;
                  optionsDiv.innerHTML = `<p>${questions.choose}</p>`;
                  
                  const options = grammarOptionsText[language] || grammarOptionsText.COSYenglish;
                  
                  const toHaveOption = document.createElement("div");
                  toHaveOption.className = "grammar-option";
                  toHaveOption.textContent = options.to_have;
                  toHaveOption.addEventListener("click", () => {
                    const grammar = randomElement(grammarData[language][d].to_have);
                    resultContainer.innerHTML = "";
                    resultContainer.appendChild(document.createTextNode(grammar));
                    speakText(grammar, language);
                  });
                  
                  const possessivesOption = document.createElement("div");
                  possessivesOption.className = "grammar-option";
                  possessivesOption.textContent = options.possessives;
                  possessivesOption.addEventListener("click", () => {
                    const grammar = randomElement(grammarData[language][d].possessives);
                    resultContainer.innerHTML = "";
                    resultContainer.appendChild(document.createTextNode(grammar));
                    speakText(grammar, language);
                  });
                  
                  optionsDiv.appendChild(toHaveOption);
                  optionsDiv.appendChild(possessivesOption);
                  resultContainer.appendChild(optionsDiv);
                  return;
                } else {
                  combinedGrammar = combinedGrammar.concat(grammarData[language][d]);
                }
              }
            }
            
            if (combinedGrammar.length === 0) {
              resultContainer.textContent = "No grammar data found for this selection.";
              break;
            }
            
            const grammar = randomElement(combinedGrammar);
            resultContainer.textContent = grammar;
            speakText(grammar, language);
          }
          break;

        case "random_speaking":
          {
            // Random speaking phrase from selected day(s)
            let combinedSpeaking = [];
            for (const d of daysToUse) {
              if (speakingData[language][d]) combinedSpeaking = combinedSpeaking.concat(speakingData[language][d]);
            }
            if (combinedSpeaking.length === 0) {
              resultContainer.textContent = "No speaking data found for this selection.";
              break;
            }
            const phrase = randomElement(combinedSpeaking);
            resultContainer.textContent = phrase;
            speakText(phrase, language);
          }
          break;

        case "random_image":
          {
            // Random image from selected day(s)
            let combinedImages = [];
            for (const d of daysToUse) {
              if (imageData.allLanguages[d]) {
                combinedImages = combinedImages.concat(imageData.allLanguages[d]);
              }
            }
            if (combinedImages.length === 0) {
              resultContainer.textContent = "No images found for this selection.";
              break;
            }
            const imgObj = randomElement(combinedImages);
            
            // Create container for image and caption
            const container = document.createElement("div");
            container.className = "image-container";
            
            // Get questions in selected language
            const questions = questionTranslations[language] || questionTranslations.COSYenglish;
            
            // Create question based on day
            const questionDiv = document.createElement("div");
            questionDiv.className = "image-question";
            
            if (daysToUse.includes(1)) {
              questionDiv.textContent = questions.what;
            } else {
              questionDiv.innerHTML = `${questions.who}<br>${questions.what}`;
            }
            
            // Create image element
            const imgElem = document.createElement("img");
            imgElem.src = imgObj.src;
            imgElem.className = "vocab-image";
            
            // Use translated alt text if available
            const altText = imgObj.translations?.[language] || imgObj.alt || "Image";
            imgElem.alt = altText;
            
            // Create caption element
            const caption = document.createElement("div");
            caption.className = "image-caption";
            caption.textContent = altText;
            
            // Add click event to toggle caption visibility
            imgElem.addEventListener("click", () => {
              caption.style.display = caption.style.display === "none" ? "block" : "none";
            });
            
            // Initially hide the caption
            caption.style.display = "none";
            
            // Add elements to container
            container.appendChild(questionDiv);
            container.appendChild(imgElem);
            container.appendChild(caption);
            
            // Add container to result
            resultContainer.appendChild(container);
          }
          break;

        default:
          resultContainer.textContent = "Invalid practice type selected.";
      }
    });

    // Load voices asynchronously - workaround for some browsers
    if (typeof speechSynthesis !== "undefined") {
      // Some browsers need this to populate voices
      speechSynthesis.onvoiceschanged = () => {
        console.log("Voices changed, available voices:", window.speechSynthesis.getVoices());
      };
      
      // Try to preload voices
      window.speechSynthesis.getVoices();
    }
  </script>

</body>
</html>
