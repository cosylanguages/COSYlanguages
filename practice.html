<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate-key="practice_title">Practice üí° - COSYlanguages</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="practice-page">
    <header>
        <div class="logo">
            <a href="index.html"><img src="images/cosylanguages.png" alt="COSYlanguages Logo"></a>
        </div>
        <nav>
            <ul>
                <li><a href="index.html#languages" data-translate-key="nav_languages">Languages üåç</a></li>
                <li><a href="index.html#courses" data-translate-key="nav_courses">Courses üìö</a></li>
                <li><a href="index.html#calculator" data-translate-key="nav_calculator">Calculator üßÆ</a></li>
                <li><a href="events.html" data-translate-key="nav_events">Events üéâ</a></li>
                <li><a href="practice.html" data-translate-key="nav_practice">Practice üí°</a></li>
            </ul>
        </nav>
        <div class="language-switcher-container">
            <select id="language-switcher">
                <option value="en">English</option>
                <option value="fr">Fran√ßais</option>
                <option value="it">Italiano</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="el">ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨</option>
            </select>
        </div>
    </header>

    <main>
        <section id="practice-container">
            <h2 data-translate-key="practice_title">Practice üí°</h2>

            <div id="setup-section" class="setup-card">
                <div class="setup-group full-width">
                    <label data-translate-key="select_practice_language">Select language to practice üåç</label>
                    <div class="lang-selection-grid" id="lang-selection-grid">
                        <div class="lang-selection-card active" data-value="en">
                            <span class="flag">üá¨üáß</span>
                            <span class="name">English</span>
                        </div>
                        <div class="lang-selection-card" data-value="fr">
                            <span class="flag">üá´üá∑</span>
                            <span class="name">Fran√ßais</span>
                        </div>
                        <div class="lang-selection-card" data-value="it">
                            <span class="flag">üáÆüáπ</span>
                            <span class="name">Italiano</span>
                        </div>
                        <div class="lang-selection-card" data-value="ru">
                            <span class="flag">üá∑üá∫</span>
                            <span class="name">–†—É—Å—Å–∫–∏–π</span>
                        </div>
                        <div class="lang-selection-card" data-value="el">
                            <span class="flag">üá¨üá∑</span>
                            <span class="name">ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨</span>
                        </div>
                    </div>
                </div>

                <div class="setup-row">
                    <div class="setup-group">
                        <label for="lesson-range" data-translate-key="select_lessons">Select lessons (e.g. 1 or 1-5) üìö</label>
                        <input type="text" id="lesson-range" class="pill-input" placeholder="1" value="1">
                    </div>

                    <div class="setup-group">
                        <label data-translate-key="category_label">Select categories:</label>
                        <div class="chips-group">
                            <label class="toggle-chip">
                                <input type="checkbox" id="cat-vocab" checked>
                                <span data-translate-key="cat_vocab">Vocabulary</span>
                            </label>
                            <label class="toggle-chip">
                                <input type="checkbox" id="cat-grammar" checked>
                                <span data-translate-key="cat_grammar">Grammar</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="setup-group full-width">
                    <label data-translate-key="task_type_label">Task Types:</label>
                    <div class="chips-group wrap">
                        <label class="toggle-chip">
                            <input type="checkbox" id="type-mc" checked>
                            <span data-translate-key="type_mc">Multiple Choice</span>
                        </label>
                        <label class="toggle-chip">
                            <input type="checkbox" id="type-ls" checked>
                            <span data-translate-key="type_ls">Listen & Select</span>
                        </label>
                        <label class="toggle-chip">
                            <input type="checkbox" id="type-sc" checked>
                            <span data-translate-key="type_sc">Scramble</span>
                        </label>
                        <label class="toggle-chip">
                            <input type="checkbox" id="type-op" checked>
                            <span data-translate-key="type_op">Opposite</span>
                        </label>
                        <label class="toggle-chip">
                            <input type="checkbox" id="type-cl" checked>
                            <span data-translate-key="type_cl">Cloze (Typing)</span>
                        </label>
                        <label class="toggle-chip">
                            <input type="checkbox" id="type-tf" checked>
                            <span data-translate-key="type_tf">True/False</span>
                        </label>
                        <label class="toggle-chip">
                            <input type="checkbox" id="type-ga" checked>
                            <span data-translate-key="type_ga">Gender & Articles</span>
                        </label>
                        <label class="toggle-chip">
                            <input type="checkbox" id="type-cv" checked>
                            <span data-translate-key="type_cv">Conversation</span>
                        </label>
                    </div>
                </div>

                <div class="setup-actions">
                    <button id="start-btn" class="cta-button primary" data-translate-key="start_practice">Start Practice üöÄ</button>
                    <button id="wheel-mode-btn" class="cta-button secondary" data-translate-key="wheel_mode">Spinning Wheel üé°</button>
                    <button id="resume-btn" class="cta-button secondary" style="display: none;" data-translate-key="resume_practice">Resume Practice üîÅ</button>
                </div>
            </div>

            <div id="practice-section" style="display: none;">
                <!-- Spinning Wheel Section -->
                <div id="wheel-container" style="display: none; text-align: center; margin-bottom: 30px;">
                    <div class="wheel-wrapper" style="position: relative; display: inline-block;">
                        <canvas id="wheel-canvas" width="500" height="500"></canvas>
                        <div id="wheel-pointer">‚ñº</div>
                    </div>
                    <div class="wheel-controls" style="margin-top: 20px;">
                        <button id="spin-btn" class="cta-button primary" data-translate-key="spin_btn">Spin! üé°</button>
                    </div>

                    <div id="wheel-question-area" style="display: none; margin-top: 30px;">
                        <div id="wheel-question-card" class="event-item glass">
                            <div id="wheel-emoji-display" class="practice-emoji"></div>
                            <div id="wheel-word-display" class="word-text"></div>
                            <div class="wheel-action-buttons" style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                                <button id="wheel-respond-btn" class="topics-toggle-btn" data-translate-key="respond_btn">Respond ‚úçÔ∏è</button>
                                <button id="wheel-skip-btn" class="topics-toggle-btn secondary-btn" data-translate-key="skip_btn">Skip ‚è≠Ô∏è</button>
                                <button id="wheel-done-btn" class="topics-toggle-btn success-btn" data-translate-key="done_btn">Done ‚úÖ</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="practice-progress" class="progress-bar-container">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <div id="progress-text"></div>

                <div id="question-card" class="event-item">
                    <div id="lesson-info" class="lesson-badge"></div>
                    <div id="word-meta" class="word-meta-container" style="display: none;">
                        <span id="word-form" class="meta-badge form-badge"></span>
                        <span id="word-level" class="meta-badge level-badge"></span>
                    </div>
                    <div id="emoji-display" class="practice-emoji"></div>
                    <div id="task-instruction" class="task-text"></div>
                    <div class="word-container">
                        <div id="word-display" class="word-text"></div>
                        <button id="listen-btn" class="icon-btn" title="Listen">üîä</button>
                    </div>

                    <div id="answer-area">
                        <!-- Opposite/Cloze task -->
                        <div id="opposite-input-container" style="display: none;">
                            <input type="text" id="opposite-answer" placeholder="...">
                            <button id="check-opposite-btn" class="topics-toggle-btn" data-translate-key="check_btn">Check üîç</button>
                            <button id="hint-btn" class="topics-toggle-btn secondary-btn" style="display: none;" data-translate-key="hint_btn">Hint üí°</button>
                        </div>

                        <!-- True/False task -->
                        <div id="tf-buttons-container" style="display: none;">
                            <button id="true-btn" class="topics-toggle-btn" data-translate-key="true_btn">True ‚úÖ</button>
                            <button id="false-btn" class="topics-toggle-btn" data-translate-key="false_btn">False ‚ùå</button>
                        </div>

                        <!-- Multiple Choice task -->
                        <div id="choices-grid" class="choices-grid" style="display: none;">
                            <!-- Buttons will be generated here -->
                        </div>

                        <!-- Scramble task -->
                        <div id="scramble-container" style="display: none;">
                            <div id="word-assembly" class="word-assembly"></div>
                            <div id="scramble-letters" class="choices-grid"></div>
                            <button id="clear-scramble-btn" class="topics-toggle-btn secondary-btn" data-translate-key="clear_btn">Clear üîÑ</button>
                        </div>

                        <!-- Conversation task -->
                        <div id="conversation-container" style="display: none;">
                            <textarea id="conversation-response" class="pill-input" style="width: 100%; height: 100px; padding: 15px; border-radius: 20px; margin-bottom: 10px;" placeholder="Type your response here..."></textarea>
                            <button id="finish-conversation-btn" class="topics-toggle-btn success-btn" data-translate-key="done_btn">Done ‚úÖ</button>
                        </div>
                    </div>

                    <div id="feedback-message" class="feedback-text"></div>
                    <button id="next-btn" class="cta-button" style="display: none;" data-translate-key="next_word">Next Word ‚û°Ô∏è</button>
                </div>

                <div class="practice-footer" style="display: flex; justify-content: space-around; margin-top: 20px;">
                    <div><span data-translate-key="score_label">COSY Points: ‚ú®</span> <span id="score-count">0</span></div>
                    <div><span data-translate-key="streak_label">Daily Streak: üî•</span> <span id="streak-count">0</span></div>
                </div>
            </div>
        </section>
    </main>

    <div id="summary-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content glass">
            <h2 data-translate-key="session_summary_title">Session Summary üéâ</h2>
            <div class="summary-stats">
                <div class="stat-item">
                    <p data-translate-key="total_points">Total Points:</p>
                    <span id="final-score" class="stat-value">0</span>
                    <span class="stat-emoji">‚ú®</span>
                </div>
                <div class="stat-item">
                    <p data-translate-key="streak_label">Daily Streak: üî•</p>
                    <span id="final-streak" class="stat-value">0</span>
                    <span id="streak-unit" class="stat-unit" data-translate-key="streak_days">days</span>
                </div>
            </div>
            <button id="back-to-menu-btn" class="cta-button" data-translate-key="back_to_menu">Back to Menu üè†</button>
        </div>
    </div>

    <footer>
        <div class="contact">
            <h3 data-translate-key="contact_title">Contact Us üì¨</h3>
            <p><span data-translate-key="contact_whatsapp">WhatsApp üì±:</span> <a href="https://wa.me/330766784195">+33 07 66 78 41 95</a></p>
            <p><span data-translate-key="contact_telegram">Telegram ‚úàÔ∏è:</span> <a href="https://t.me/cosylanguagesproject" target="_blank" rel="noopener noreferrer">@cosylanguages</a></p>
        </div>
    </footer>

    <script src="translations.js"></script>
    <script src="translate.js"></script>
    <script src="practice.js"></script>
</body>
</html>
